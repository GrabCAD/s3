<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: S3::Object [s3 ]</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }

  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }<\/style>" )

  // ]]>
  </script>

</head>
<body>


    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">S3::Object</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>


                <a href="../../files/lib/s3/object_rb.html">

                lib/s3/object.rb

                </a>


        <br />

            </td>
        </tr>


        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>

                <a href="Object.html">

                S3::Object

               </a>

            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">

  <div id="contextContent">

    <div id="description">
      <p>
Class responsible for handling objects stored in <a
href="../S3.html">S3</a> buckets
</p>

    </div>

   </div>


    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">

        <a href="#M000029">==</a>&nbsp;&nbsp;

        <a href="#M000032">acl=</a>&nbsp;&nbsp;

        <a href="#M000041">cname_url</a>&nbsp;&nbsp;

        <a href="#M000035">content</a>&nbsp;&nbsp;

        <a href="#M000037">copy</a>&nbsp;&nbsp;

        <a href="#M000038">destroy</a>&nbsp;&nbsp;

        <a href="#M000034">exists?</a>&nbsp;&nbsp;

        <a href="#M000030">full_key</a>&nbsp;&nbsp;

        <a href="#M000031">key=</a>&nbsp;&nbsp;

        <a href="#M000042">new</a>&nbsp;&nbsp;

        <a href="#M000033">retrieve</a>&nbsp;&nbsp;

        <a href="#M000036">save</a>&nbsp;&nbsp;

        <a href="#M000040">temporary_url</a>&nbsp;&nbsp;

        <a href="#M000039">url</a>&nbsp;&nbsp;

      </div>
    </div>

  </div>

    <!-- if includes -->

    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">

        <span class="include-name"><a href="Parser.html">Parser</a></span>

      </div>
    </div>

    <div id="section">



    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">acl</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">bucket</td>

          <td class="context-item-value">&nbsp;[W]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">bucket</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">content</td>

          <td class="context-item-value">&nbsp;[W]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">content_disposition</td>

          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">content_encoding</td>

          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">content_type</td>

          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">etag</td>

          <td class="context-item-value">&nbsp;[W]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">etag</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">key</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">last_modified</td>

          <td class="context-item-value">&nbsp;[W]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">last_modified</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">original_key</td>

          <td class="context-item-value">&nbsp;[W]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">size</td>

          <td class="context-item-value">&nbsp;[W]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        <tr class="top-aligned-row context-row">
          <td class="context-item-name">size</td>

          <td class="context-item-value">&nbsp;[R]&nbsp;</td>

          <td class="context-item-desc"></td>
        </tr>

        </table>
      </div>
    </div>


    <!-- if method_list -->

    <div id="methods">

      <h3 class="section-bar">Public Class methods</h3>


      <div id="method-M000042" class="method-detail">
        <a name="M000042"></a>

        <div class="method-heading">

          <a href="#M000042" class="method-signature">

          <span class="method-name">new</span><span class="method-args">(bucket, options = {})</span>

          </a>

        </div>

        <div class="method-description">

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000042-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000042-source">
<pre>
<span class="ruby-comment cmt"># File lib/s3/object.rb, line 176</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">bucket</span>, <span class="ruby-identifier">options</span> = {})
      <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">bucket</span>
      <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">key</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:key</span>]
      <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">last_modified</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:last_modified</span>]
      <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">etag</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:etag</span>]
      <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">size</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:size</span>]
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <h3 class="section-bar">Public Instance methods</h3>


      <div id="method-M000029" class="method-detail">
        <a name="M000029"></a>

        <div class="method-heading">

          <a href="#M000029" class="method-signature">

          <span class="method-name">==</span><span class="method-args">(other)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Compares the object with other object. Returns true if the key of the
objects are the same, and both have the same buckets (see <a
href="Bucket.html">Bucket</a> equality)
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000029-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000029-source">
<pre>
<span class="ruby-comment cmt"># File lib/s3/object.rb, line 19</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">other</span>)
      <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">key</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">key</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">bucket</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000032" class="method-detail">
        <a name="M000032"></a>

        <div class="method-heading">

          <a href="#M000032" class="method-signature">

          <span class="method-name">acl=</span><span class="method-args">(acl)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Assigns a new ACL to the object. Please note that ACL is not retrieved from
the server and set to &#8220;public-read&#8221; by default.
</p>
<h4>Example</h4>
<pre>
  object.acl = :public_read
</pre>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000032-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000032-source">
<pre>
<span class="ruby-comment cmt"># File lib/s3/object.rb, line 40</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">acl=</span>(<span class="ruby-identifier">acl</span>)
      <span class="ruby-ivar">@acl</span> = <span class="ruby-identifier">acl</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">&quot;_&quot;</span>, <span class="ruby-value str">&quot;-&quot;</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">acl</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000041" class="method-detail">
        <a name="M000041"></a>

        <div class="method-heading">

          <a href="#M000041" class="method-signature">

          <span class="method-name">cname_url</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns Object&#8217;s CNAME URL (without <tt>s3.amazonaws.com</tt> suffix)
using protocol specified in <a href="Service.html">Service</a>, e.g. <tt><a
href="http://domain.com/key/with/path.extension">domain.com/key/with/path.extension</a></tt>.
(you have to set the CNAME in your DNS before using the CNAME URL schema).
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000041-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000041-source">
<pre>
<span class="ruby-comment cmt"># File lib/s3/object.rb, line 120</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cname_url</span>
      <span class="ruby-constant">URI</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-node">&quot;#{protocol}#{name}/#{key}&quot;</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">vhost?</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000035" class="method-detail">
        <a name="M000035"></a>

        <div class="method-heading">

          <a href="#M000035" class="method-signature">

          <span class="method-name">content</span><span class="method-args">(reload = false)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Download the content of the object, and caches it. Pass true to clear the
cache and download the object again.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000035-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000035-source">
<pre>
<span class="ruby-comment cmt"># File lib/s3/object.rb, line 65</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content</span>(<span class="ruby-identifier">reload</span> = <span class="ruby-keyword kw">false</span>)
      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">reload</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@content</span>.<span class="ruby-identifier">nil?</span>
        <span class="ruby-identifier">get_object</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-ivar">@content</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000037" class="method-detail">
        <a name="M000037"></a>

        <div class="method-heading">

          <a href="#M000037" class="method-signature">

          <span class="method-name">copy</span><span class="method-args">(options = {})</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Copies the file to another key and/or bucket.
</p>
<h4>Options</h4>
<ul>
<li><tt>:key</tt> - New key to store object in

</li>
<li><tt>:bucket</tt> - New bucket to store object in (instance of <a
href="Bucket.html">S3::Bucket</a>)

</li>
<li><tt>:acl</tt> - ACL of the copied object (default:
&#8220;public-read&#8221;)

</li>
<li><tt>:content_type</tt> - Content type of the copied object (default:
&#8220;application/octet-stream&#8221;)

</li>
</ul>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000037-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000037-source">
<pre>
<span class="ruby-comment cmt"># File lib/s3/object.rb, line 88</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">copy</span>(<span class="ruby-identifier">options</span> = {})
      <span class="ruby-identifier">copy_object</span>(<span class="ruby-identifier">options</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000038" class="method-detail">
        <a name="M000038"></a>

        <div class="method-heading">

          <a href="#M000038" class="method-signature">

          <span class="method-name">destroy</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Destroys the file on the server
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000038-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000038-source">
<pre>
<span class="ruby-comment cmt"># File lib/s3/object.rb, line 93</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">destroy</span>
      <span class="ruby-identifier">delete_object</span>
      <span class="ruby-keyword kw">true</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000034" class="method-detail">
        <a name="M000034"></a>

        <div class="method-heading">

          <a href="#M000034" class="method-signature">

          <span class="method-name">exists?</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Retrieves the object from the server, returns true if the object exists or
false otherwise. Uses <a href="Object.html#M000033">retrieve</a> method,
but catches S3::Error::NoSuchKey exception and returns false when it
happens
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000034-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000034-source">
<pre>
<span class="ruby-comment cmt"># File lib/s3/object.rb, line 56</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">exists?</span>
      <span class="ruby-identifier">retrieve</span>
      <span class="ruby-keyword kw">true</span>
    <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Error</span><span class="ruby-operator">::</span><span class="ruby-constant">NoSuchKey</span>
      <span class="ruby-keyword kw">false</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000030" class="method-detail">
        <a name="M000030"></a>

        <div class="method-heading">

          <a href="#M000030" class="method-signature">

          <span class="method-name">full_key</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns full key of the object: e.g. <tt>bucket-name/object/key.ext</tt>
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000030-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000030-source">
<pre>
<span class="ruby-comment cmt"># File lib/s3/object.rb, line 24</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">full_key</span>
      [<span class="ruby-identifier">name</span>, <span class="ruby-identifier">key</span>].<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;/&quot;</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000031" class="method-detail">
        <a name="M000031"></a>

        <div class="method-heading">

          <a href="#M000031" class="method-signature">

          <span class="method-name">key=</span><span class="method-args">(key)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Assigns a new <tt>key</tt> to the object, raises ArgumentError if given key
is not valid key name
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000031-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000031-source">
<pre>
<span class="ruby-comment cmt"># File lib/s3/object.rb, line 30</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">key=</span>(<span class="ruby-identifier">key</span>)
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Invalid key name: #{key}&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">key_valid?</span>(<span class="ruby-identifier">key</span>)
      <span class="ruby-ivar">@key</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">key</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000033" class="method-detail">
        <a name="M000033"></a>

        <div class="method-heading">

          <a href="#M000033" class="method-signature">

          <span class="method-name">retrieve</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Retrieves the object from the server. Method is used to download object
information only (content type, size and so on). It does NOT download the
content of the object (use the <a href="Object.html#M000035">content</a>
method to do it).
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000033-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000033-source">
<pre>
<span class="ruby-comment cmt"># File lib/s3/object.rb, line 48</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">retrieve</span>
      <span class="ruby-identifier">get_object</span>(<span class="ruby-identifier">:headers</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:range</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">0</span> })
      <span class="ruby-keyword kw">self</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000036" class="method-detail">
        <a name="M000036"></a>

        <div class="method-heading">

          <a href="#M000036" class="method-signature">

          <span class="method-name">save</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Saves the object, returns true if successfull.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000036-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000036-source">
<pre>
<span class="ruby-comment cmt"># File lib/s3/object.rb, line 73</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">save</span>
      <span class="ruby-identifier">put_object</span>
      <span class="ruby-keyword kw">true</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000040" class="method-detail">
        <a name="M000040"></a>

        <div class="method-heading">

          <a href="#M000040" class="method-signature">

          <span class="method-name">temporary_url</span><span class="method-args">(expires_at = Time.now + 3600)</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns a temporary url to the object that expires on the timestamp given.
Defaults to one hour expire time.
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000040-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000040-source">
<pre>
<span class="ruby-comment cmt"># File lib/s3/object.rb, line 106</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">temporary_url</span>(<span class="ruby-identifier">expires_at</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span> <span class="ruby-operator">+</span> <span class="ruby-value">3600</span>)
      <span class="ruby-identifier">signature</span> = <span class="ruby-constant">Signature</span>.<span class="ruby-identifier">generate_temporary_url_signature</span>(<span class="ruby-identifier">:bucket</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">name</span>,
                                                             <span class="ruby-identifier">:resource</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">key</span>,
                                                             <span class="ruby-identifier">:expires_on</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">expires_at</span>,
                                                             <span class="ruby-identifier">:secret_access_key</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">secret_access_key</span>)

      <span class="ruby-node">&quot;#{url}?Signature=#{URI.escape(signature)}&amp;Expires=#{URI.escape(expires_at.to_i)}&quot;</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>


      <div id="method-M000039" class="method-detail">
        <a name="M000039"></a>

        <div class="method-heading">

          <a href="#M000039" class="method-signature">

          <span class="method-name">url</span><span class="method-args">()</span>

          </a>

        </div>

        <div class="method-description">

          <p>
Returns Object&#8217;s URL using protocol specified in service, e.g. <tt><a
href="http://domain.com.s3.amazonaws.com/key/with/path.extension">domain.com.s3.amazonaws.com/key/with/path.extension</a></tt>
</p>

          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000039-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000039-source">
<pre>
<span class="ruby-comment cmt"># File lib/s3/object.rb, line 100</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">url</span>
      <span class="ruby-constant">URI</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-node">&quot;#{protocol}#{host}/#{path_prefix}#{key}&quot;</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>

        </div>
      </div>



    </div>




  </div>

<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>
