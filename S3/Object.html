<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: S3::Object</title>

	<link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

	<script src="../js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="class">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="../lib/s3/object_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/s3/object.rb">lib/s3/object.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link"><a href="Object.html">S3::Object</a></p>
				
			</div>
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-c-new">::new</a></li>
					
					<li><a href="#method-i-%3D%3D">#==</a></li>
					
					<li><a href="#method-i-acl%3D">#acl=</a></li>
					
					<li><a href="#method-i-cname_url">#cname_url</a></li>
					
					<li><a href="#method-i-content">#content</a></li>
					
					<li><a href="#method-i-copy">#copy</a></li>
					
					<li><a href="#method-i-copy_object">#copy_object</a></li>
					
					<li><a href="#method-i-delete_object">#delete_object</a></li>
					
					<li><a href="#method-i-destroy">#destroy</a></li>
					
					<li><a href="#method-i-dump_headers">#dump_headers</a></li>
					
					<li><a href="#method-i-etag%3D">#etag=</a></li>
					
					<li><a href="#method-i-exists%3F">#exists?</a></li>
					
					<li><a href="#method-i-full_key">#full_key</a></li>
					
					<li><a href="#method-i-get_object">#get_object</a></li>
					
					<li><a href="#method-i-key%3D">#key=</a></li>
					
					<li><a href="#method-i-key_valid%3F">#key_valid?</a></li>
					
					<li><a href="#method-i-last_modified%3D">#last_modified=</a></li>
					
					<li><a href="#method-i-object_headers">#object_headers</a></li>
					
					<li><a href="#method-i-object_request">#object_request</a></li>
					
					<li><a href="#method-i-parse_headers">#parse_headers</a></li>
					
					<li><a href="#method-i-put_object">#put_object</a></li>
					
					<li><a href="#method-i-retrieve">#retrieve</a></li>
					
					<li><a href="#method-i-save">#save</a></li>
					
					<li><a href="#method-i-storage_class%3D">#storage_class=</a></li>
					
					<li><a href="#method-i-temporary_url">#temporary_url</a></li>
					
					<li><a href="#method-i-url">#url</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
			<div id="includes-section" class="section">
				<h3 class="section-header">Included Modules</h3>
				<ul class="link-list">
				
				
					<li><span class="include">Parser</span></li>
				
				
				</ul>
			</div>
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="../README_rdoc.html">README.rdoc</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="../images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="../S3.html">S3</a></li>
				
					<li><a href="../S3/Bucket.html">S3::Bucket</a></li>
				
					<li><a href="../S3/BucketsExtension.html">S3::BucketsExtension</a></li>
				
					<li><a href="../S3/Connection.html">S3::Connection</a></li>
				
					<li><a href="../S3/Error/ResponseError.html">S3::Error::ResponseError</a></li>
				
					<li><a href="../S3/Object.html">S3::Object</a></li>
				
					<li><a href="../S3/ObjectsExtension.html">S3::ObjectsExtension</a></li>
				
					<li><a href="../S3/Parser.html">S3::Parser</a></li>
				
					<li><a href="../S3/Request.html">S3::Request</a></li>
				
					<li><a href="../S3/Service.html">S3::Service</a></li>
				
					<li><a href="../S3/Signature.html">S3::Signature</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="class">S3::Object</h1>

		<div id="description">
			<p>
Class responsible for handling objects stored in <a
href="../S3.html">S3</a> buckets
</p>

		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		
		<div id="attribute-method-details" class="method-section section">
			<h3 class="section-header">Attributes</h3>

			
			<div id="content-type-attribute-method" class="method-detail">
				<a name="content_type"></a>
				
				<a name="content_type="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">content_type</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="content-disposition-attribute-method" class="method-detail">
				<a name="content_disposition"></a>
				
				<a name="content_disposition="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">content_disposition</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="content-encoding-attribute-method" class="method-detail">
				<a name="content_encoding"></a>
				
				<a name="content_encoding="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">content_encoding</span><span
						class="attribute-access-type">[RW]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="last-modified-attribute-method" class="method-detail">
				<a name="last_modified"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">last_modified</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="etag-attribute-method" class="method-detail">
				<a name="etag"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">etag</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="size-attribute-method" class="method-detail">
				<a name="size"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">size</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="bucket-attribute-method" class="method-detail">
				<a name="bucket"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">bucket</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="key-attribute-method" class="method-detail">
				<a name="key"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">key</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="acl-attribute-method" class="method-detail">
				<a name="acl"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">acl</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="storage-class-attribute-method" class="method-detail">
				<a name="storage_class"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">storage_class</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="content-attribute-method" class="method-detail">
				<a name="content"></a>
				
				<a name="content="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">content</span><span
						class="attribute-access-type">[W]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="last-modified-attribute-method" class="method-detail">
				<a name="last_modified"></a>
				
				<a name="last_modified="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">last_modified</span><span
						class="attribute-access-type">[W]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="etag-attribute-method" class="method-detail">
				<a name="etag"></a>
				
				<a name="etag="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">etag</span><span
						class="attribute-access-type">[W]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="size-attribute-method" class="method-detail">
				<a name="size"></a>
				
				<a name="size="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">size</span><span
						class="attribute-access-type">[W]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="original-key-attribute-method" class="method-detail">
				<a name="original_key"></a>
				
				<a name="original_key="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">original_key</span><span
						class="attribute-access-type">[W]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
			<div id="bucket-attribute-method" class="method-detail">
				<a name="bucket"></a>
				
				<a name="bucket="></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">bucket</span><span
						class="attribute-access-type">[W]</span>
				</div>

				<div class="method-description">
				
				
				
				</div>
			</div>
			
		</div>
		

		<!-- Methods -->
		
		<div id="public-class-method-details" class="method-section section">
			<h3 class="section-header">Public Class Methods</h3>

		
			<div id="new-method" class="method-detail ">
				<a name="method-c-new"></a>

				<div class="method-heading">
				
					<span class="method-name">new</span><span
						class="method-args">(bucket, options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="new-source">
<pre>
     <span class="ruby-comment cmt"># File lib/s3/object.rb, line 196</span>
196:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">bucket</span>, <span class="ruby-identifier">options</span> = {})
197:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">bucket</span>
198:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">key</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:key</span>]
199:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">last_modified</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:last_modified</span>]
200:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">etag</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:etag</span>]
201:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">size</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:size</span>]
202:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="--method" class="method-detail ">
				<a name="method-i-%3D%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">==</span><span
						class="method-args">(other)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Compares the object with other object. Returns true if the key of the
objects are the same, and both have the same buckets (see <a
href="Bucket.html">Bucket</a> equality)
</p>
					

					
					<div class="method-source-code"
						id="--source">
<pre>
    <span class="ruby-comment cmt"># File lib/s3/object.rb, line 19</span>
19:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">other</span>)
20:       <span class="ruby-identifier">other</span>.<span class="ruby-identifier">equal?</span>(<span class="ruby-keyword kw">self</span>) <span class="ruby-operator">||</span> (<span class="ruby-identifier">other</span>.<span class="ruby-identifier">instance_of?</span>(<span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">key</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">key</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">bucket</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">bucket</span>)
21:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="acl--method" class="method-detail ">
				<a name="method-i-acl%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">acl=</span><span
						class="method-args">(acl)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Assigns a new ACL to the object. Please note that ACL is not retrieved from
the server and set to &#8220;public-read&#8221; by default.
</p>
<h4>Example</h4>
<pre>
  object.acl = :public_read</pre>
					

					
					<div class="method-source-code"
						id="acl--source">
<pre>
    <span class="ruby-comment cmt"># File lib/s3/object.rb, line 40</span>
40:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">acl=</span>(<span class="ruby-identifier">acl</span>)
41:       <span class="ruby-ivar">@acl</span> = <span class="ruby-identifier">acl</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">&quot;_&quot;</span>, <span class="ruby-value str">&quot;-&quot;</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">acl</span>
42:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="cname-url-method" class="method-detail ">
				<a name="method-i-cname_url"></a>

				<div class="method-heading">
				
					<span class="method-name">cname_url</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns Object&#8217;s CNAME URL (without <tt>s3.amazonaws.com</tt> suffix)
using protocol specified in <a href="Service.html">Service</a>, e.g. <tt><a
href="http://domain.com/key/with/path.extension">domain.com/key/with/path.extension</a></tt>.
(you have to set the CNAME in your DNS before using the CNAME URL schema).
</p>
					

					
					<div class="method-source-code"
						id="cname-url-source">
<pre>
     <span class="ruby-comment cmt"># File lib/s3/object.rb, line 130</span>
130:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cname_url</span>
131:       <span class="ruby-constant">URI</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-node">&quot;#{protocol}#{name}/#{key}&quot;</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">vhost?</span>
132:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="content-method" class="method-detail ">
				<a name="method-i-content"></a>

				<div class="method-heading">
				
					<span class="method-name">content</span><span
						class="method-args">(reload = false)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Download the content of the object, and caches it. Pass true to clear the
cache and download the object again.
</p>
					

					
					<div class="method-source-code"
						id="content-source">
<pre>
    <span class="ruby-comment cmt"># File lib/s3/object.rb, line 75</span>
75:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content</span>(<span class="ruby-identifier">reload</span> = <span class="ruby-keyword kw">false</span>)
76:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">reload</span> <span class="ruby-keyword kw">or</span> <span class="ruby-ivar">@content</span>.<span class="ruby-identifier">nil?</span>
77:         <span class="ruby-identifier">get_object</span>
78:       <span class="ruby-keyword kw">end</span>
79:       <span class="ruby-ivar">@content</span>
80:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="copy-method" class="method-detail ">
				<a name="method-i-copy"></a>

				<div class="method-heading">
				
					<span class="method-name">copy</span><span
						class="method-args">(options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Copies the file to another key and/or bucket.
</p>
<h4>Options</h4>
<ul>
<li><p>
<tt>:key</tt> - New key to store object in
</p>
</li>
<li><p>
<tt>:bucket</tt> - New bucket to store object in (instance of <a
href="Bucket.html">S3::Bucket</a>)
</p>
</li>
<li><p>
<tt>:acl</tt> - ACL of the copied object (default:
&#8220;public-read&#8221;)
</p>
</li>
<li><p>
<tt>:<a href="Object.html#content_type">content_type</a></tt> - Content
type of the copied object (default: &#8220;application/octet-stream&#8220;)
</p>
</li>
</ul>
					

					
					<div class="method-source-code"
						id="copy-source">
<pre>
     <span class="ruby-comment cmt"># File lib/s3/object.rb, line 98</span>
 98:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">copy</span>(<span class="ruby-identifier">options</span> = {})
 99:       <span class="ruby-identifier">copy_object</span>(<span class="ruby-identifier">options</span>)
100:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="destroy-method" class="method-detail ">
				<a name="method-i-destroy"></a>

				<div class="method-heading">
				
					<span class="method-name">destroy</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Destroys the file on the server
</p>
					

					
					<div class="method-source-code"
						id="destroy-source">
<pre>
     <span class="ruby-comment cmt"># File lib/s3/object.rb, line 103</span>
103:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">destroy</span>
104:       <span class="ruby-identifier">delete_object</span>
105:       <span class="ruby-keyword kw">true</span>
106:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="exists--method" class="method-detail ">
				<a name="method-i-exists%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">exists?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Retrieves the object from the server, returns true if the object exists or
false otherwise. Uses <a href="Object.html#method-i-retrieve">#</a> method,
but catches S3::Error::NoSuchKey exception and returns false when it
happens
</p>
					

					
					<div class="method-source-code"
						id="exists--source">
<pre>
    <span class="ruby-comment cmt"># File lib/s3/object.rb, line 66</span>
66:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">exists?</span>
67:       <span class="ruby-identifier">retrieve</span>
68:       <span class="ruby-keyword kw">true</span>
69:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Error</span><span class="ruby-operator">::</span><span class="ruby-constant">NoSuchKey</span>
70:       <span class="ruby-keyword kw">false</span>
71:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="full-key-method" class="method-detail ">
				<a name="method-i-full_key"></a>

				<div class="method-heading">
				
					<span class="method-name">full_key</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns full key of the object: e.g. <tt>bucket-name/object/key.ext</tt>
</p>
					

					
					<div class="method-source-code"
						id="full-key-source">
<pre>
    <span class="ruby-comment cmt"># File lib/s3/object.rb, line 24</span>
24:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">full_key</span>
25:       [<span class="ruby-identifier">name</span>, <span class="ruby-identifier">key</span>].<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;/&quot;</span>)
26:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="key--method" class="method-detail ">
				<a name="method-i-key%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">key=</span><span
						class="method-args">(key)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Assigns a new <tt>key</tt> to the object, raises ArgumentError if given key
is not valid key name
</p>
					

					
					<div class="method-source-code"
						id="key--source">
<pre>
    <span class="ruby-comment cmt"># File lib/s3/object.rb, line 30</span>
30:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">key=</span>(<span class="ruby-identifier">key</span>)
31:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Invalid key name: #{key}&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">key_valid?</span>(<span class="ruby-identifier">key</span>)
32:       <span class="ruby-ivar">@key</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">key</span>
33:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="retrieve-method" class="method-detail ">
				<a name="method-i-retrieve"></a>

				<div class="method-heading">
				
					<span class="method-name">retrieve</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Retrieves the object from the server. Method is used to download object
information only (content type, size and so on). It does NOT download the
content of the object (use the <a href="Object.html#method-i-content">#</a>
method to do it).
</p>
					

					
					<div class="method-source-code"
						id="retrieve-source">
<pre>
    <span class="ruby-comment cmt"># File lib/s3/object.rb, line 58</span>
58:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">retrieve</span>
59:       <span class="ruby-identifier">object_headers</span>
60:       <span class="ruby-keyword kw">self</span>
61:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="save-method" class="method-detail ">
				<a name="method-i-save"></a>

				<div class="method-heading">
				
					<span class="method-name">save</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Saves the object, returns true if successfull.
</p>
					

					
					<div class="method-source-code"
						id="save-source">
<pre>
    <span class="ruby-comment cmt"># File lib/s3/object.rb, line 83</span>
83:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">save</span>
84:       <span class="ruby-identifier">put_object</span>
85:       <span class="ruby-keyword kw">true</span>
86:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="storage-class--method" class="method-detail ">
				<a name="method-i-storage_class%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">storage_class=</span><span
						class="method-args">(storage_class)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Assigns a new storage class (RRS) to the object. Please note that the
storage class is not retrieved from the server and set to
&#8220;STANDARD&#8221; by default.
</p>
<h4>Example</h4>
<pre>
  object.storage_class = :reduced_redundancy</pre>
					

					
					<div class="method-source-code"
						id="storage-class--source">
<pre>
    <span class="ruby-comment cmt"># File lib/s3/object.rb, line 50</span>
50:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">storage_class=</span>(<span class="ruby-identifier">storage_class</span>)
51:       <span class="ruby-ivar">@storage_class</span> = <span class="ruby-identifier">storage_class</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">upcase</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">storage_class</span>
52:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="temporary-url-method" class="method-detail ">
				<a name="method-i-temporary_url"></a>

				<div class="method-heading">
				
					<span class="method-name">temporary_url</span><span
						class="method-args">(expires_at = Time.now + 3600)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns a temporary url to the object that expires on the timestamp given.
Defaults to one hour expire time.
</p>
					

					
					<div class="method-source-code"
						id="temporary-url-source">
<pre>
     <span class="ruby-comment cmt"># File lib/s3/object.rb, line 116</span>
116:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">temporary_url</span>(<span class="ruby-identifier">expires_at</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span> <span class="ruby-operator">+</span> <span class="ruby-value">3600</span>)
117:       <span class="ruby-identifier">signature</span> = <span class="ruby-constant">Signature</span>.<span class="ruby-identifier">generate_temporary_url_signature</span>(<span class="ruby-value">:bucket</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">name</span>,
118:                                                              <span class="ruby-value">:resource</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">key</span>,
119:                                                              <span class="ruby-value">:expires_at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">expires_at</span>,
120:                                                              <span class="ruby-value">:secret_access_key</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">secret_access_key</span>)
121: 
122:       <span class="ruby-node">&quot;#{url}?AWSAccessKeyId=#{self.bucket.service.access_key_id}&amp;Expires=#{expires_at.to_i.to_s}&amp;Signature=#{signature}&quot;</span>
123:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="url-method" class="method-detail ">
				<a name="method-i-url"></a>

				<div class="method-heading">
				
					<span class="method-name">url</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns Object&#8217;s URL using protocol specified in service, e.g. <tt><a
href="http://domain.com.s3.amazonaws.com/key/with/path.extension">domain.com.s3.amazonaws.com/key/with/path.extension</a></tt>
</p>
					

					
					<div class="method-source-code"
						id="url-source">
<pre>
     <span class="ruby-comment cmt"># File lib/s3/object.rb, line 110</span>
110:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">url</span>
111:       <span class="ruby-constant">URI</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-node">&quot;#{protocol}#{host}/#{path_prefix}#{key}&quot;</span>)
112:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="private-instance-method-details" class="method-section section">
			<h3 class="section-header">Private Instance Methods</h3>

		
			<div id="copy-object-method" class="method-detail ">
				<a name="method-i-copy_object"></a>

				<div class="method-heading">
				
					<span class="method-name">copy_object</span><span
						class="method-args">(options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="copy-object-source">
<pre>
     <span class="ruby-comment cmt"># File lib/s3/object.rb, line 142</span>
142:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">copy_object</span>(<span class="ruby-identifier">options</span> = {})
143:       <span class="ruby-identifier">key</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:key</span>] <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;No key given&quot;</span>
144:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-node">&quot;Invalid key name: #{key}&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">key_valid?</span>(<span class="ruby-identifier">key</span>)
145:       <span class="ruby-identifier">bucket</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:bucket</span>] <span class="ruby-operator">||</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">bucket</span>
146: 
147:       <span class="ruby-identifier">headers</span> = {}
148: 
149:       <span class="ruby-identifier">headers</span>[<span class="ruby-value">:x_amz_acl</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-value">:acl</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">acl</span> <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;public-read&quot;</span>
150:       <span class="ruby-identifier">headers</span>[<span class="ruby-value">:content_type</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-value">:content_type</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">content_type</span> <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;application/octet-stream&quot;</span>
151:       <span class="ruby-identifier">headers</span>[<span class="ruby-value">:content_encoding</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-value">:content_encoding</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:content_encoding</span>]
152:       <span class="ruby-identifier">headers</span>[<span class="ruby-value">:content_disposition</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-value">:content_disposition</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:content_disposition</span>]
153:       <span class="ruby-identifier">headers</span>[<span class="ruby-value">:x_amz_copy_source</span>] = <span class="ruby-identifier">full_key</span>
154:       <span class="ruby-identifier">headers</span>[<span class="ruby-value">:x_amz_metadata_directive</span>] = <span class="ruby-value str">&quot;REPLACE&quot;</span>
155:       <span class="ruby-identifier">headers</span>[<span class="ruby-value">:x_amz_copy_source_if_match</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-value">:if_match</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:if_match</span>]
156:       <span class="ruby-identifier">headers</span>[<span class="ruby-value">:x_amz_copy_source_if_none_match</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-value">:if_none_match</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:if_none_match</span>]
157:       <span class="ruby-identifier">headers</span>[<span class="ruby-value">:x_amz_copy_source_if_unmodified_since</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-value">:if_modified_since</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:if_modified_since</span>]
158:       <span class="ruby-identifier">headers</span>[<span class="ruby-value">:x_amz_copy_source_if_modified_since</span>] = <span class="ruby-identifier">options</span>[<span class="ruby-value">:if_unmodified_since</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:if_unmodified_since</span>]
159: 
160:       <span class="ruby-identifier">response</span> = <span class="ruby-identifier">bucket</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:bucket_request</span>, <span class="ruby-value">:put</span>, <span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">key</span>, <span class="ruby-value">:headers</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">headers</span>)
161:       <span class="ruby-identifier">object_attributes</span> = <span class="ruby-identifier">parse_copy_object_result</span>(<span class="ruby-identifier">response</span>.<span class="ruby-identifier">body</span>)
162: 
163:       <span class="ruby-identifier">object</span> = <span class="ruby-constant">Object</span>.<span class="ruby-identifier">send</span>(<span class="ruby-value">:new</span>, <span class="ruby-identifier">bucket</span>, <span class="ruby-identifier">object_attributes</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:key</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">key</span>, <span class="ruby-value">:size</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">size</span>))
164:       <span class="ruby-identifier">object</span>.<span class="ruby-identifier">acl</span> = <span class="ruby-identifier">response</span>[<span class="ruby-value str">&quot;x-amz-acl&quot;</span>]
165:       <span class="ruby-identifier">object</span>.<span class="ruby-identifier">content_type</span> = <span class="ruby-identifier">response</span>[<span class="ruby-value str">&quot;content-type&quot;</span>]
166:       <span class="ruby-identifier">object</span>.<span class="ruby-identifier">content_encoding</span> = <span class="ruby-identifier">response</span>[<span class="ruby-value str">&quot;content-encoding&quot;</span>]
167:       <span class="ruby-identifier">object</span>.<span class="ruby-identifier">content_disposition</span> = <span class="ruby-identifier">response</span>[<span class="ruby-value str">&quot;content-disposition&quot;</span>]
168:       <span class="ruby-identifier">object</span>
169:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="delete-object-method" class="method-detail ">
				<a name="method-i-delete_object"></a>

				<div class="method-heading">
				
					<span class="method-name">delete_object</span><span
						class="method-args">(options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="delete-object-source">
<pre>
     <span class="ruby-comment cmt"># File lib/s3/object.rb, line 192</span>
192:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_object</span>(<span class="ruby-identifier">options</span> = {})
193:       <span class="ruby-identifier">object_request</span>(<span class="ruby-value">:delete</span>)
194:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="dump-headers-method" class="method-detail ">
				<a name="method-i-dump_headers"></a>

				<div class="method-heading">
				
					<span class="method-name">dump_headers</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="dump-headers-source">
<pre>
     <span class="ruby-comment cmt"># File lib/s3/object.rb, line 224</span>
224:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dump_headers</span>
225:       <span class="ruby-identifier">headers</span> = {}
226:       <span class="ruby-identifier">headers</span>[<span class="ruby-value">:x_amz_acl</span>] = <span class="ruby-ivar">@acl</span> <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;public-read&quot;</span>
227:       <span class="ruby-identifier">headers</span>[<span class="ruby-value">:x_amz_storage_class</span>] = <span class="ruby-ivar">@storage_class</span> <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;STANDARD&quot;</span>
228:       <span class="ruby-identifier">headers</span>[<span class="ruby-value">:content_type</span>] = <span class="ruby-ivar">@content_type</span> <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;application/octet-stream&quot;</span>
229:       <span class="ruby-identifier">headers</span>[<span class="ruby-value">:content_encoding</span>] = <span class="ruby-ivar">@content_encoding</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@content_encoding</span>
230:       <span class="ruby-identifier">headers</span>[<span class="ruby-value">:content_disposition</span>] = <span class="ruby-ivar">@content_disposition</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@content_disposition</span>
231:       <span class="ruby-identifier">headers</span>
232:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="etag--method" class="method-detail ">
				<a name="method-i-etag%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">etag=</span><span
						class="method-args">(etag)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="etag--source">
<pre>
     <span class="ruby-comment cmt"># File lib/s3/object.rb, line 212</span>
212:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">etag=</span>(<span class="ruby-identifier">etag</span>)
213:       <span class="ruby-ivar">@etag</span> = <span class="ruby-identifier">etag</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">2</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">etag</span>
214:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="get-object-method" class="method-detail ">
				<a name="method-i-get_object"></a>

				<div class="method-heading">
				
					<span class="method-name">get_object</span><span
						class="method-args">(options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="get-object-source">
<pre>
     <span class="ruby-comment cmt"># File lib/s3/object.rb, line 171</span>
171:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_object</span>(<span class="ruby-identifier">options</span> = {})
172:       <span class="ruby-identifier">response</span> = <span class="ruby-identifier">object_request</span>(<span class="ruby-value">:get</span>, <span class="ruby-identifier">options</span>)
173:       <span class="ruby-identifier">parse_headers</span>(<span class="ruby-identifier">response</span>)
174:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="key-valid--method" class="method-detail ">
				<a name="method-i-key_valid%3F"></a>

				<div class="method-heading">
				
					<span class="method-name">key_valid?</span><span
						class="method-args">(key)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="key-valid--source">
<pre>
     <span class="ruby-comment cmt"># File lib/s3/object.rb, line 216</span>
216:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">key_valid?</span>(<span class="ruby-identifier">key</span>)
217:       <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">key</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">key</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">%//#</span>)
218:         <span class="ruby-keyword kw">false</span>
219:       <span class="ruby-keyword kw">else</span>
220:         <span class="ruby-keyword kw">true</span>
221:       <span class="ruby-keyword kw">end</span>
222:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="last-modified--method" class="method-detail ">
				<a name="method-i-last_modified%3D"></a>

				<div class="method-heading">
				
					<span class="method-name">last_modified=</span><span
						class="method-args">(last_modified)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="last-modified--source">
<pre>
     <span class="ruby-comment cmt"># File lib/s3/object.rb, line 208</span>
208:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">last_modified=</span>(<span class="ruby-identifier">last_modified</span>)
209:       <span class="ruby-ivar">@last_modified</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">last_modified</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">last_modified</span>
210:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="object-headers-method" class="method-detail ">
				<a name="method-i-object_headers"></a>

				<div class="method-heading">
				
					<span class="method-name">object_headers</span><span
						class="method-args">(options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="object-headers-source">
<pre>
     <span class="ruby-comment cmt"># File lib/s3/object.rb, line 176</span>
176:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">object_headers</span>(<span class="ruby-identifier">options</span> = {})
177:       <span class="ruby-identifier">response</span> = <span class="ruby-identifier">object_request</span>(<span class="ruby-value">:head</span>, <span class="ruby-identifier">options</span>)
178:       <span class="ruby-identifier">parse_headers</span>(<span class="ruby-identifier">response</span>)
179:     <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Error</span><span class="ruby-operator">::</span><span class="ruby-constant">ResponseError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
180:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">response</span>.<span class="ruby-identifier">code</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">==</span> <span class="ruby-value">404</span>
181:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span><span class="ruby-operator">::</span><span class="ruby-constant">ResponseError</span>.<span class="ruby-identifier">exception</span>(<span class="ruby-value str">&quot;NoSuchKey&quot;</span>).<span class="ruby-identifier">new</span>(<span class="ruby-value str">&quot;The specified key does not exist.&quot;</span>, <span class="ruby-keyword kw">nil</span>)
182:       <span class="ruby-keyword kw">else</span>
183:         <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
184:       <span class="ruby-keyword kw">end</span>
185:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="object-request-method" class="method-detail ">
				<a name="method-i-object_request"></a>

				<div class="method-heading">
				
					<span class="method-name">object_request</span><span
						class="method-args">(method, options = {})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="object-request-source">
<pre>
     <span class="ruby-comment cmt"># File lib/s3/object.rb, line 204</span>
204:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">object_request</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">options</span> = {})
205:       <span class="ruby-identifier">bucket_request</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">key</span>))
206:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="parse-headers-method" class="method-detail ">
				<a name="method-i-parse_headers"></a>

				<div class="method-heading">
				
					<span class="method-name">parse_headers</span><span
						class="method-args">(response)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="parse-headers-source">
<pre>
     <span class="ruby-comment cmt"># File lib/s3/object.rb, line 234</span>
234:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">parse_headers</span>(<span class="ruby-identifier">response</span>)
235:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">etag</span> = <span class="ruby-identifier">response</span>[<span class="ruby-value str">&quot;etag&quot;</span>]
236:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">content_type</span> = <span class="ruby-identifier">response</span>[<span class="ruby-value str">&quot;content-type&quot;</span>]
237:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">content_disposition</span> = <span class="ruby-identifier">response</span>[<span class="ruby-value str">&quot;content-disposition&quot;</span>]
238:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">content_encoding</span> = <span class="ruby-identifier">response</span>[<span class="ruby-value str">&quot;content-encoding&quot;</span>]
239:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">last_modified</span> = <span class="ruby-identifier">response</span>[<span class="ruby-value str">&quot;last-modified&quot;</span>]
240:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">response</span>[<span class="ruby-value str">&quot;content-range&quot;</span>]
241:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">size</span> = <span class="ruby-identifier">response</span>[<span class="ruby-value str">&quot;content-range&quot;</span>].<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/[^\/]+\//</span>, <span class="ruby-value str">&quot;&quot;</span>).<span class="ruby-identifier">to_i</span>
242:       <span class="ruby-keyword kw">else</span>
243:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">size</span> = <span class="ruby-identifier">response</span>[<span class="ruby-value str">&quot;content-length&quot;</span>]
244:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">content</span> = <span class="ruby-identifier">response</span>.<span class="ruby-identifier">body</span>
245:       <span class="ruby-keyword kw">end</span>
246:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="put-object-method" class="method-detail ">
				<a name="method-i-put_object"></a>

				<div class="method-heading">
				
					<span class="method-name">put_object</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="put-object-source">
<pre>
     <span class="ruby-comment cmt"># File lib/s3/object.rb, line 187</span>
187:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">put_object</span>
188:       <span class="ruby-identifier">response</span> = <span class="ruby-identifier">object_request</span>(<span class="ruby-value">:put</span>, <span class="ruby-value">:body</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">content</span>, <span class="ruby-value">:headers</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">dump_headers</span>)
189:       <span class="ruby-identifier">parse_headers</span>(<span class="ruby-identifier">response</span>)
190:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

